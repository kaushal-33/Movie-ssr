<%- include("partials/start.ejs")%>
<div class="container p-4 border rounded shadow-sm">
  <form method="post" action="/admin/update-movie/<%=movie.id%>" enctype="multipart/form-data">
    <div class="mb-3">
      <label class="form-label">Movie Name</label>
      <input type="text" name="movieName" class="form-control" placeholder="Movie name" value="<%=movie.movieName%>">
    </div>

    <div class="mb-3">
      <label class="form-label">Genre</label>
      <select name="genre" class="form-select">
        <option value="" disabled selected>Select genre</option>
        <option value="action" <%=movie?.genre ==="action"? "selected":""%>>Action</option>
        <option value="thriller" <%=movie?.genre ==="thriller"? "selected":""%>>Thriller</option>
        <option value="comedy" <%=movie?.genre ==="comedy"? "selected":""%>>Comedy</option>
        <option value="drama" <%=movie?.genre ==="drama"? "selected":""%>>Drama</option>
        <option value="romance" <%=movie?.genre ==="romance"? "selected":""%>>Romance</option>
        <option value="fantasy" <%=movie?.genre ==="fantasy"? "selected":""%>>Fantasy</option>
        <option value="biography" <%=movie?.genre ==="biography"? "selected":""%>>Biography</option>
        <option value="sci-fiction" <%=movie?.genre ==="sci-fiction"? "selected":""%>>Sci-fiction</option>
        <option value="animation" <%=movie?.genre ==="animation"? "selected":""%>>Animation</option>
      </select>
    </div>
    <div class="mb-3">
      <label class="form-label">Rating</label>
      <select name="rating" class="form-select">
        <option value="" disabled selected>Select rating</option>
        <option value="1" <%=movie?.rating === "1"? "selected" : ""%>>⭐</option>
        <option value="2" <%=movie?.rating === "2"? "selected" : ""%>>⭐⭐</option>
        <option value="3" <%=movie?.rating === "3"? "selected" : ""%>>⭐⭐⭐</option>
        <option value="4" <%=movie?.rating === "4"? "selected" : ""%>>⭐⭐⭐⭐</option>
        <option value="5" <%=movie?.rating === "5"? "selected" : ""%>>⭐⭐⭐⭐⭐</option>
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label">Release Date</label>
      <input type="date" name="date" class="form-control" value="<%=movie?.date%>">
    </div>

    <div class="mb-3">
      <label class="form-label">Details</label>
      <textarea name="details" class="form-control" rows="4"><%=movie?.details%></textarea>
    </div>

    <div class="mb-3">
      <label class="form-label">Poster</label>
      <input type="file" name="posterURL" class="form-control" accept="/image*">
      <div class="text-center mt-3">
        <img src="/<%=movie?.posterURL%>" alt="<%=movie.movieName%>" width="200">
      </div>
    </div>

    <button type="submit" class="btn btn-primary w-100">
      Submit
    </button>
  </form>
</div>
<%- include("partials/end.ejs")%>